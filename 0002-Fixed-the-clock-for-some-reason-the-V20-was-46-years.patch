From 91e9e2f9bd34d9e628dba359b0ed6d07b2670255 Mon Sep 17 00:00:00 2001
From: Phoenix591 <11486+Phoenix591@users.noreply.github.com>
Date: Sat, 3 Feb 2018 07:23:54 +0000
Subject: Fixed the clock, for some reason the V20 was 46 years ahead

Change-Id: I4c7c9f0bbcd4a2f7804c386872379f3aea79d464
---
 twrp-functions.cpp | 1 +
 1 file changed, 1 insertion(+)

diff --git a/twrp-functions.cpp b/twrp-functions.cpp
index bc09541e..7d5e2d69 100644
--- a/twrp-functions.cpp
+++ b/twrp-functions.cpp
@@ -996,6 +996,7 @@ void TWFunc::Fixup_Time_On_Boot(const string& time_paths /* = "" */)
 	gettimeofday(&tv, NULL);
 
 	tv.tv_sec += offset/1000;
+	tv.tv_sec = tv.tv_sec - 1451606400; //for some reason the V20 is 46 years in the future..lets rewind that back 
 	tv.tv_usec += (offset%1000)*1000;
 
 	while (tv.tv_usec >= 1000000)
-- 
2.16.1

